<div class="container" data-ng-controller="puzzleCtrl as pctrl" ng-keydown="pctrl.keyDown($event)">
    <div class="card">
        <div class="card-header">
            <h2>{{pctrl.puzzleTemplate.name}}</h2> <div><small>template by {{pctrl.puzzleTemplate.owner}}</small></div>
        </div>
        <div class="card-body">
            <div class="puzzle">
                <table>
                    <tr ng-repeat="row in pctrl.range(1,pctrl.puzzleTemplate.width)" >
                        <td 
                            ng-class="{'black'              : pctrl.isBlackSquare(row, col)
                                     , 'pointy'             : !pctrl.isBlackSquare(row, col)
                                     , 'clue'               : pctrl.clueNumber(row, col) > -1
                                     , 'selected-letter'    : pctrl.selectedRow == row && pctrl.selectedCol == col
                                     , 'selected-word'      : pctrl.inSelectedWord(row, col)}" 
                            ng-repeat="col in pctrl.range(1, pctrl.puzzleTemplate.height)" 
                            data-row="{{row}}" 
                            data-col="{{col}}"
                            data-clue-number="{{pctrl.clueNumber(row, col) + 1}}"
                            ng-click="pctrl.selectLetter(row, col)">
                                <div contenteditable="true" ng-model="pctrl.puzzle.squares[row + '-' + col].letter"></div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="row" style="margin-top: 20px;">
                <div class="btn btn-primary bottom-right-button" ng-click="pctrl.create()">Create</div>
            </div>
        </div>
    </div>
</div>